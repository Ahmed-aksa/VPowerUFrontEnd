<section>
  <div class="row register-box">
    <div class="col-lg-11 offset-sm-0 mobile-view">
      <form [formGroup]="signupForm" (ngSubmit)=" onSubmit()">
        <div class="row g-0  ">
          <div class="col-10 col-lg-9 mx-auto text-center">
            <div class="logo mt-4 mb-3 mb-md-0">
              <a href="index.html" title="vpoweru"><img class="logo-design" src="assets/images/VpowerU-Logo-01.svg"
                  alt="mainlogo"></a>
            </div>
          </div>
        </div>
        <h3 class="fw-bold mb-2 text-center mt-3">Register Now</h3>
        <p class="text-center mb-4">See what is going on with your business</p>
        <div class="d-flex wizard-section mx-auto mb-2">
          <a id="backbnt-">
            <div class="circle-design">
              <img src="assets/images/user-pin.svg" alt="circle">
            </div>
          </a>

          <div  id="line-design" class=" separator">
          </div>
          <a id="image">
            <div id="NextID-" class="circle-other">
              <img src="assets/images/contact-info.svg" alt="circle">
            </div>
          </a>
          <a  style="display: none;" id="image-1">
            <div class="circle-other-second">
              <img src="assets/images/contact-info.svg" alt="circle">
            </div>
          </a>

        </div>

        <div *ngIf="isStep==1"  >
          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/user.svg" alt="icon">

                <label>Customer Name <span class="text-danger fw-bold">
                    *
                  </span></label>

                <div class="form-group">
                  <input id="name" class="border-none" formControlName="Name" type="text"
                    placeholder="Enter Customer Name">
                </div>
              </div>
              <div *ngIf="submited && f.Name.errors" style="display: block !important;" class="invalid-feedback">
                <div *ngIf="f.Name.errors?.required">Name is required</div>
              </div>
            </div>

            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/email.svg" alt="icon">

                <label>Customer Email<span class="text-danger fw-bold">
                    *
                  </span></label>

                <div class="form-group">
                  <input id="email" class="border-none" formControlName="Email" type="text"
                    placeholder="Enter Customer Email">

                </div>
              </div>
              <div *ngIf="submited && f.Email.errors" style="display: block !important;" class="invalid-feedback">
                <div *ngIf="f.Email.errors?.required">Email is required</div>
              </div>
            </div>

          </div>


          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/phone.svg" alt="icon">

                <label>Phone Number<span class="text-danger fw-bold">
                    *
                  </span></label>

                <div class="form-group">
                  <input id="number" class="border-none" formControlName="PhoneNumber" type="text"
                    placeholder="9255555566565">
                </div>
              </div>
              <div *ngIf="submited && f.PhoneNumber.errors" style="display: block !important;" class="invalid-feedback">
                <div *ngIf="f.PhoneNumber.errors?.required">Number is required</div>
              </div>
            </div>
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/meter.svg" alt="icon">

                <label>MPAN</label>

                <div class="form-group">
                  <input class="border-none" formControlName="mpan" type="text"
                    placeholder="Meter Point Administration Number">

                </div>
              </div>
            </div>

          </div>
          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/password.svg" alt="icon">

                <label>Password<span class="text-danger fw-bold">
                    *
                  </span></label>

                <div class="form-group">
                  <input id="password" class="border-none"  formControlName="Password" type="password"
                    placeholder="Enter Password">
                </div>
              </div>
              <div *ngIf="submited && f.Password.errors" style="display: block !important;" class="invalid-feedback">
                <div *ngIf="f.Password.errors?.required">Password is required</div>
              </div>
            </div>
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/password.svg" alt="icon">

                <label>Confirm Password<span class="text-danger fw-bold">
                    *
                  </span></label>

                <div class="form-group">
                  <input id="cpassword" class="border-none" formControlName="cpassword" type="password"
                    placeholder="Confirm Password">
                </div>
              </div>
              <div *ngIf="submited && f.cpassword.errors" style="display: block !important;" class="invalid-feedback">
                <div *ngIf="f.cpassword.errors?.required">Password is required</div>
                <div *ngIf="f.cpassword.errors?.MustMatch">Password Doesn't Match</div>

              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 col-sm-12">
              <div class="ry-field-with-icon name mb-2">
                <img src="assets/images/address.svg" alt="icon">

                <label>Address<span class="text-danger fw-bold">
                    *
                  </span></label>

                <div class="form-group">
                  <input id="address" class="border-none" formControlName="address" type="text" placeholder="Address">
                </div>
              </div>
              <div *ngIf="submited && f.address.errors  ||  f.address.dirty || f.address.touched" style="display: block !important;" class="invalid-feedback">
                <div *ngIf="f.address.errors?.required">Address is required</div>

              </div>
            </div>

          </div>
        </div>

        <div  *ngIf="isStep==2" >
          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon- name mb-2">
                <!-- <img src="../assets/images/user.svg" alt="looginpage"> -->

                <label>Peak demand in KWh</label>

                <div class="form-group">
                  <input class="border-none" formControlName="PeakDemand" type="text"
                    placeholder="Estimated peak demand in KWh">

                </div>
              </div>
            </div>
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon- name mb-2">
                <!-- <img src="../assets/images/Vector.svg" alt="looginpage"> -->

                <label>Minimum demand in KWh</label>

                <div class="form-group">
                  <input class="border-none" formControlName="MinimumDemand" type="text"
                    placeholder="Estimated minimum demand in KWh">

                </div>
              </div>
            </div>
          </div>


          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon- name mb-2">

                <label>Annual demand in KWh</label>

                <div class="form-group">
                  <input class="border-none" formControlName="AnnualDemand" type="text"
                    placeholder="Estimated annual demand in KWh">

                </div>
              </div>
            </div>
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon- name mb-2">

                <label>Upward flexibility</label>

                <div class="form-group">
                  <input class="border-none" formControlName="UpwardFlexiblity" type="text"
                    placeholder="Estimated Upward flexibility">

                </div>
              </div>
            </div>
          </div>


          <div class="row">
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon- name mb-2">

                <label>Downward flexibility</label>

                <div class="form-group">
                  <input class="border-none" formControlName="DownwardFlexiblity" type="text"
                    placeholder="Estimated Downward flexibility">

                </div>
              </div>
            </div>
            <div class="col-lg-6 col-sm-12">
              <div class="ry-field-with-icon- name mb-2">

                <label>Flexibility Type</label>

                <div class="form-group">
                  <div class="drop-btn">
                    <select class="dropdown-select"
                      onchange="document.getElementById('displayValue').value=this.options[this.selectedIndex].text; document.getElementById('idValue').value=this.options[this.selectedIndex].value;">
                      <option></option>
                      <option value="one">Demand Side Response</option>
                      <option value="two">EV Charging Response</option>
                      <option value="three">Generation Asset</option>
                      <option value="three">Internet of Things</option>
                      <option value="three">Smart Appliance</option>
                      <option value="three">Battery Storage</option>
                      <option value="three">Solar PV</option>
                      <option value="three">Other</option>
                    </select>
                    <input class="drop-down-input" formControlName="FlexiblityType" type="text" name="displayValue"
                      id="displayValue" placeholder="Select Option" onfocus="this.select()"
                      style="position:absolute;top:0px;left:0px;width:183px;width:180px\9; ">
                    <input name="idValue" id="idValue" type="hidden">

                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 col-sm-12">
              <div class="ry-field-with-icon name mb-2" style="border: none;">

              </div>
            </div>

          </div>
        </div>


        <div class="row">
          <div class="col-lg-12 col-sm-12 text-end btns">
            <a id="backbnt">
              <button  *ngIf="isStep==2"  (click)="isStep=1"  class="btn back-btn mx-2" type="button"><img class="me-2"
                  src="assets/images/back.svg" alt="backicon">Back
              </button>
            </a>
            <a id="NextID">
              <button  class="btn btn-primary btn-next" ><img class="me-2" src="assets/images/next.svg" alt="nexticon">
                <span *ngIf="isStep==1">Next</span>
                <span *ngIf="isStep==2">Submit</span>

              </button>

            </a>
          </div>
        </div>
      </form>
    </div>

    <p class="text-center text-muted py-2">Already have an account?<a class="link-primary fw-bold mx-2"
        [routerLink]="['/account/Login']">Login</a></p>

  </div>
</section>


<div class="overlay" style="z-index: 1;" *ngIf="popup">

  <div class="popup">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="col-xl-12 p-0">
          <div class=" d-grid theme-form">
            <form id="loginForm" class=" login-form" method="post">
              <div class="row g-0 ">
                <div class="col-10 col-lg-9 mx-auto text-center">
                  <div class="logo mb-5 mb-md-0">
                    <a href="index.html" title="vpoweru"><img class="logo-design" src="assets/images/VpowerU-Logo-01.svg" alt="mainlogo"></a>
                  </div>
                </div>
              </div>
              <h3 class="fw-bold mb-2 text-center mt-4">Confirmation</h3>
              <p class="text-center">Please Enter the code we sent to the email Nabeel*******.com</p>
              <div class="name mb-3 position-relative main-login">
                <div class="d-flex m-5" style="text-align: center;">
                  <ng-otp-input #ngOtpInput (onInputChange)="onOtpChange($event)" *ngIf="showOtpComponent" [config]="config"></ng-otp-input>
                </div>

              </div>
              <div>Time left = {{timeLeft}}</div>
              <div class="d-grid my-2">
                <button *ngIf="!resendBtn" (click)="submitOTP()" type="button" class="btn btn-labeled btn-primary w-100">
                  <span  class="btn-label">                 </span>Confirm</button>
              </div>
              <div class="d-grid my-2">
                <button *ngIf="resendBtn" (click)="onResendEmail()" type="button" class="btn btn-labeled btn-primary w-100">
                  <span  class="btn-label">                 </span>Resend</button>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

</div>
